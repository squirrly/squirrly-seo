/**
 * wz_jsgraphics.js v. 3.05
 * Copyright (c) 2002-2009 Walter Zorn. All rights reserved.
 * Created 3. 11. 2002 by Walter Zorn (Web: http://www.walterzorn.com )
 * Last modified: 2. 2. 2009
 */
var jg_ok,jg_ie,jg_fast,jg_dom,jg_moz;function _chkDHTM(c,a,b){a=c.document.body||null;jg_ie=a&&typeof a.insertAdjacentHTML!="undefined"&&c.document.createElement;jg_dom=(a&&!jg_ie&&typeof a.appendChild!="undefined"&&typeof c.document.createRange!="undefined"&&typeof(b=c.document.createRange()).setStartBefore!="undefined"&&typeof b.createContextualFragment!="undefined");jg_fast=jg_ie&&c.document.all&&!c.opera;jg_moz=jg_dom&&typeof a.style.MozOpacity!="undefined";jg_ok=!!(jg_ie||jg_dom)}function _pntCnvDom(){var a=this.wnd.document.createRange();a.setStartBefore(this.cnv);a=a.createContextualFragment(jg_fast?this._htmRpc():this.htm);if(this.cnv){this.cnv.appendChild(a)}this.htm=""}function _pntCnvIe(){if(this.cnv){this.cnv.insertAdjacentHTML("BeforeEnd",jg_fast?this._htmRpc():this.htm)}this.htm=""}function _pntDoc(){this.wnd.document.write(jg_fast?this._htmRpc():this.htm);this.htm=""}function _pntN(){}function _mkDiv(a,d,b,c){this.htm+='<div style="position:absolute;left:'+a+"px;top:"+d+"px;width:"+b+"px;height:"+c+"px;clip:rect(0,"+b+"px,"+c+"px,0);background-color:"+this.color+(!jg_moz?";overflow:hidden":"")+';"></div>'}function _mkDivIe(a,d,b,c){this.htm+="%%"+this.color+";"+a+";"+d+";"+b+";"+c+";"}function _mkDivPrt(a,d,b,c){this.htm+='<div style="position:absolute;border-left:'+b+"px solid "+this.color+";left:"+a+"px;top:"+d+"px;width:0px;height:"+c+"px;clip:rect(0,"+b+"px,"+c+"px,0);background-color:"+this.color+(!jg_moz?";overflow:hidden":"")+';"></div>'}var _regex=/%%([^;]+);([^;]+);([^;]+);([^;]+);([^;]+);/g;function _htmRpc(){return this.htm.replace(_regex,'<div style="overflow:hidden;position:absolute;background-color:$1;left:$2px;top:$3px;width:$4px;height:$5px"></div>\n')}function _htmPrtRpc(){return this.htm.replace(_regex,'<div style="overflow:hidden;position:absolute;background-color:$1;left:$2px;top:$3px;width:$4px;height:$5px;border-left:$4px solid $1"></div>\n')}function _mkLin(e,m,b,k){if(e>b){var j=b;var g=k;b=e;k=m;e=j;m=g}var q=b-e,o=Math.abs(k-m),l=e,i=m,n=(m>k)?-1:1;if(q>=o){var a=o<<1,h=a-(q<<1),d=a-q,f=l;while(q>0){--q;++l;if(d>0){this._mkDiv(f,i,l-f,1);i+=n;d+=h;f=l}else{d+=a}}this._mkDiv(f,i,b-f+1,1)}else{var a=q<<1,h=a-(o<<1),d=a-o,c=i;if(k<=m){while(o>0){--o;if(d>0){this._mkDiv(l++,i,1,c-i+1);i+=n;d+=h;c=i}else{i+=n;d+=a}}this._mkDiv(b,k,1,c-k+1)}else{while(o>0){--o;i+=n;if(d>0){this._mkDiv(l++,c,1,i-c);d+=h;c=i}else{d+=a}}this._mkDiv(b,c,1,k-c+1)}}}function _mkLin2D(r,b,q,a){if(r>q){var f=q;var n=a;q=r;a=b;r=f;b=n}var j=q-r,i=Math.abs(a-b),h=r,g=b,m=(b>a)?-1:1;var k=this.stroke;if(j>=i){if(j>0&&k-3>0){var t=(k*j*Math.sqrt(1+i*i/(j*j))-j-(k>>1)*i)/j;t=(!(k-4)?Math.ceil(t):Math.round(t))+1}else{var t=k}var u=Math.ceil(k/2);var o=i<<1,e=o-(j<<1),l=o-j,d=h;while(j>0){--j;++h;if(l>0){this._mkDiv(d,g,h-d+u,t);g+=m;l+=e;d=h}else{l+=o}}this._mkDiv(d,g,q-d+u+1,t)}else{if(k-3>0){var t=(k*i*Math.sqrt(1+j*j/(i*i))-(k>>1)*j-i)/i;t=(!(k-4)?Math.ceil(t):Math.round(t))+1}else{var t=k}var u=Math.round(k/2);var o=j<<1,e=o-(i<<1),l=o-i,c=g;if(a<=b){++u;while(i>0){--i;if(l>0){this._mkDiv(h++,g,t,c-g+u);g+=m;l+=e;c=g}else{g+=m;l+=o}}this._mkDiv(q,a,t,c-a+u)}else{while(i>0){--i;g+=m;if(l>0){this._mkDiv(h++,c,t,g-c+u);l+=e;c=g}else{l+=o}}this._mkDiv(q,c,t,a-c+u+1)}}}function _mkLinDott(d,k,b,i){if(d>b){var h=b;var e=i;b=d;i=k;d=h;k=e}var o=b-d,n=Math.abs(i-k),j=d,g=k,m=(k>i)?-1:1,l=true;if(o>=n){var a=n<<1,f=a-(o<<1),c=a-o;while(o>0){--o;if(l){this._mkDiv(j,g,1,1)}l=!l;if(c>0){g+=m;c+=f}else{c+=a}++j}}else{var a=o<<1,f=a-(n<<1),c=a-n;while(n>0){--n;if(l){this._mkDiv(j,g,1,1)}l=!l;g+=m;if(c>0){++j;c+=f}else{c+=a}}}if(l){this._mkDiv(j,g,1,1)}}function _mkOv(g,q,u,s){var B=(++u)>>1,A=(++s)>>1,o=u&1,f=s&1,e=g+B,d=q+A,l=0,k=A,j=0,i=A,t=(B*B)<<1,r=t<<1,p=(A*A)<<1,n=p<<1,v=(t>>1)*(1-(A<<1))+p,c=(p>>1)-t*((A<<1)-1),m,z;while(k>0){if(v<0){v+=p*((l<<1)+3);c+=n*(++l)}else{if(c<0){v+=p*((l<<1)+3)-r*(k-1);c+=n*(++l)-t*(((k--)<<1)-3);m=l-j;z=i-k;if((m&2)&&(z&2)){this._mkOvQds(e,d,l-2,k+2,1,1,o,f);this._mkOvQds(e,d,l-1,k+1,1,1,o,f)}else{this._mkOvQds(e,d,l-1,i,m,z,o,f)}j=l;i=k}else{c-=t*((k<<1)-3);v-=r*(--k)}}}m=B-j+1;z=(i<<1)+f;k=d-i;this._mkDiv(e-B,k,m,z);this._mkDiv(e+j+o-1,k,m,z)}function _mkOv2D(g,m,c,d){var L=this.stroke;c+=L+1;d+=L+1;var V=c>>1,T=d>>1,S=c&1,E=d&1,q=g+V,p=m+T,J=0,G=T,B=(V*V)<<1,z=B<<1,k=(T*T)<<1,f=k<<1,n=(B>>1)*(1-(T<<1))+k,R=(k>>1)-B*((T<<1)-1);if(L-4<0&&(!(L-2)||c-51>0&&d-51>0)){var u=0,t=T,K,P,C;while(G>0){if(n<0){n+=k*((J<<1)+3);R+=f*(++J)}else{if(R<0){n+=k*((J<<1)+3)-z*(G-1);R+=f*(++J)-B*(((G--)<<1)-3);K=J-u;P=t-G;if(K-1){C=K+1+(L&1);P=L}else{if(P-1){C=L;P+=1+(L&1)}else{C=P=L}}this._mkOvQds(q,p,J-1,t,C,P,S,E);u=J;t=G}else{R-=B*((G<<1)-3);n-=z*(--G)}}}this._mkDiv(q-V,p-t,L,(t<<1)+E);this._mkDiv(q+V+S-L,p-t,L,(t<<1)+E)}else{var W=(c-(L<<1))>>1,U=(d-(L<<1))>>1,H=0,F=U,A=(W*W)<<1,v=A<<1,j=(U*U)<<1,e=j<<1,o=(A>>1)*(1-(U<<1))+j,Q=(j>>1)-A*((U<<1)-1),I=new Array(),D=new Array(),M=new Array();I[0]=0;D[0]=T;M[0]=U-1;while(G>0){if(n<0){I[I.length]=J;D[D.length]=G;n+=k*((J<<1)+3);R+=f*(++J)}else{if(R<0){I[I.length]=J;n+=k*((J<<1)+3)-z*(G-1);R+=f*(++J)-B*(((G--)<<1)-3);D[D.length]=G}else{R-=B*((G<<1)-3);n-=z*(--G)}}if(F>0){if(o<0){o+=j*((H<<1)+3);Q+=e*(++H);M[M.length]=F-1}else{if(Q<0){o+=j*((H<<1)+3)-v*(F-1);Q+=e*(++H)-A*(((F--)<<1)-3);M[M.length]=F-1}else{Q-=A*((F<<1)-3);o-=v*(--F);M[M.length-1]--}}}}var u=-S,t=T,r=M[0],N=I.length,K,P;for(var O=0;O<N;O++){if(typeof M[O]!="undefined"){if(M[O]<r||D[O]<t){J=I[O];this._mkOvQds(q,p,J,t,J-u,t-r,S,E);u=J;t=D[O];r=M[O]}}else{J=I[O];this._mkDiv(q-J,p-t,1,(t<<1)+E);this._mkDiv(q+u+S,p-t,1,(t<<1)+E);u=J;t=D[O]}}this._mkDiv(q-V,p-t,1,(t<<1)+E);this._mkDiv(q+u+S,p-t,1,(t<<1)+E)}}function _mkOvDott(g,n,s,q){var v=(++s)>>1,u=(++q)>>1,l=s&1,f=q&1,j=f^1,e=g+v,d=n+u,i=0,h=u,r=(v*v)<<1,o=r<<1,m=(u*u)<<1,k=m<<1,t=(r>>1)*(1-(u<<1))+m,c=(m>>1)-r*((u<<1)-1),p=true;while(h>0){if(t<0){t+=m*((i<<1)+3);c+=k*(++i)}else{if(c<0){t+=m*((i<<1)+3)-o*(h-1);c+=k*(++i)-r*(((h--)<<1)-3)}else{c-=r*((h<<1)-3);t-=o*(--h)}}if(p&&h>=j){this._mkOvQds(e,d,i,h,1,1,l,f)}p=!p}}function _mkRect(a,e,b,d){var c=this.stroke;this._mkDiv(a,e,b,c);this._mkDiv(a+b,e,c,d);this._mkDiv(a,e+d,b+c,c);this._mkDiv(a,e+c,c,d-c)}function _mkRectDott(a,d,b,c){this.drawLine(a,d,a+b,d);this.drawLine(a+b,d,a+b,d+c);this.drawLine(a,d+c,a+b,d+c);this.drawLine(a,d,a,d+c)}function jsgFont(){this.PLAIN="font-weight:normal;";this.BOLD="font-weight:bold;";this.ITALIC="font-style:italic;";this.ITALIC_BOLD=this.ITALIC+this.BOLD;this.BOLD_ITALIC=this.ITALIC_BOLD}var Font=new jsgFont();function jsgStroke(){this.DOTTED=-1}var Stroke=new jsgStroke();function jsGraphics(a,b){this.setColor=function(c){this.color=c.toLowerCase()};this.setStroke=function(c){this.stroke=c;if(!(c+1)){this.drawLine=_mkLinDott;this._mkOv=_mkOvDott;this.drawRect=_mkRectDott}else{if(c-1>0){this.drawLine=_mkLin2D;this._mkOv=_mkOv2D;this.drawRect=_mkRect}else{this.drawLine=_mkLin;this._mkOv=_mkOv;this.drawRect=_mkRect}}};this.setPrintable=function(c){this.printable=c;if(jg_fast){this._mkDiv=_mkDivIe;this._htmRpc=c?_htmPrtRpc:_htmRpc}else{this._mkDiv=c?_mkDivPrt:_mkDiv}};this.setFont=function(d,e,c){this.ftFam=d;this.ftSz=e;this.ftSty=c||Font.PLAIN};this.drawPolyline=this.drawPolyLine=function(c,e){for(var d=c.length-1;d;){--d;this.drawLine(c[d],e[d],c[d+1],e[d+1])}};this.fillRect=function(c,f,d,e){this._mkDiv(c,f,d,e)};this.drawPolygon=function(c,d){this.drawPolyline(c,d);this.drawLine(c[c.length-1],d[c.length-1],c[0],d[0])};this.drawEllipse=this.drawOval=function(c,f,d,e){this._mkOv(c,f,d,e)};this.fillEllipse=this.fillOval=function(g,r,m,v){var B=m>>1,A=v>>1,n=m&1,f=v&1,e=g+B,d=r+A,k=0,j=A,i=A,t=(B*B)<<1,s=t<<1,p=(A*A)<<1,l=p<<1,u=(t>>1)*(1-(A<<1))+p,c=(p>>1)-t*((A<<1)-1),q,o,z;if(m){while(j>0){if(u<0){u+=p*((k<<1)+3);c+=l*(++k)}else{if(c<0){u+=p*((k<<1)+3)-s*(j-1);q=e-k;o=(k<<1)+n;c+=l*(++k)-t*(((j--)<<1)-3);z=i-j;this._mkDiv(q,d-i,o,z);this._mkDiv(q,d+j+f,o,z);i=j}else{c-=t*((j<<1)-3);u-=s*(--j)}}}}this._mkDiv(e-B,d-i,m,(i<<1)+f)};this.fillArc=function(e,G,B,i,f,u){var F=B>>1,E=i>>1,q=(B&1)|((i&1)<<16),g=e+F,d=G+E,o=0,m=E,k=o,j=m,v=(F*F)<<1,t=v<<1,r=(E*E)<<1,p=r<<1,z=(v>>1)*(1-(E<<1))+r,c=(r>>1)-v*((E<<1)-1),A,n,l,D,C=(1<<(Math.floor((f%=360)/180)<<3))|(2<<(Math.floor((u%=360)/180)<<3))|((f>=u)<<16),h=new Array(E+1),w=new Array(E+1);f*=Math.PI/180;u*=Math.PI/180;A=g+Math.round(F*Math.cos(f));n=d+Math.round(-E*Math.sin(f));_mkLinVirt(h,g,d,A,n);l=g+Math.round(F*Math.cos(u));D=d+Math.round(-E*Math.sin(u));_mkLinVirt(w,g,d,l,D);while(m>0){if(z<0){z+=r*((o<<1)+3);c+=p*(++o)}else{if(c<0){z+=r*((o<<1)+3)-t*(m-1);k=o;c+=p*(++o)-v*(((m--)<<1)-3);this._mkArcDiv(k,m,j,g,d,q,h,w,C);j=m}else{c-=v*((m<<1)-3);z-=t*(--m);if(m&&(h[m]!=h[m-1]||w[m]!=w[m-1])){this._mkArcDiv(o,m,j,g,d,q,h,w,C);k=o;j=m}}}}this._mkArcDiv(o,0,j,g,d,q,h,w,C);if(q>>16){if(C>>16){var s=(n<=d||D>d)?(g-o):g;this._mkDiv(s,d,o+g-s+(q&65535),1)}else{if((C&1)&&D>d){this._mkDiv(g-o,d,o,1)}}}};this.fillPolygon=function(j,h){var k;var q;var s,o;var d,r;var c,p;var m,l;var e;var f=j.length;if(!f){return}s=h[0];o=h[0];for(k=1;k<f;k++){if(h[k]<s){s=h[k]}if(h[k]>o){o=h[k]}}for(q=s;q<=o;q++){var g=new Array();e=0;for(k=0;k<f;k++){if(!k){m=f-1;l=0}else{m=k-1;l=k}r=h[m];p=h[l];if(r<p){d=j[m];c=j[l]}else{if(r>p){p=h[m];r=h[l];c=j[m];d=j[l]}else{continue}}if((q>=r)&&(q<p)){g[e++]=Math.round((q-r)*(c-d)/(p-r)+d)}else{if((q==o)&&(q>r)&&(q<=p)){g[e++]=Math.round((q-r)*(c-d)/(p-r)+d)}}}g.sort(_CompInt);for(k=0;k<e;k+=2){this._mkDiv(g[k],q,g[k+1]-g[k]+1,1)}}};this.drawString=function(d,c,e){this.htm+='<div style="position:absolute;white-space:nowrap;left:'+c+"px;top:"+e+"px;font-family:"+this.ftFam+";font-size:"+this.ftSz+";color:"+this.color+";"+this.ftSty+'">'+d+"</div>"};this.drawStringRect=function(d,c,g,e,f){this.htm+='<div style="position:absolute;overflow:hidden;left:'+c+"px;top:"+g+"px;width:"+e+"px;text-align:"+f+";font-family:"+this.ftFam+";font-size:"+this.ftSz+";color:"+this.color+";"+this.ftSty+'">'+d+"</div>"};this.drawImage=function(g,c,i,e,f,d){this.htm+='<div style="position:absolute;left:'+c+"px;top:"+i+"px;"+(e?("width:"+e+"px;"):"")+(f?("height:"+f+"px;"):"")+'"><img src="'+g+'"'+(e?(' width="'+e+'"'):"")+(f?(' height="'+f+'"'):"")+(d?(" "+d):"")+"></div>"};this.clear=function(){this.htm="";if(this.cnv){this.cnv.innerHTML=""}};this._mkOvQds=function(e,d,l,k,m,f,o,j){var g=e-l,c=e+l+o-m,n=d-k,i=d+k+j-f;if(c>g+m){this._mkDiv(c,n,m,f);this._mkDiv(c,i,m,f)}else{m=c-g+m}this._mkDiv(g,n,m,f);this._mkDiv(g,i,m,f)};this._mkArcDiv=function(p,o,d,i,g,e,m,l,r){var c=i+p+(e&65535),n,j=d-o,k,f,q;if(!j){j=1}p=i-p;if(r&16711680){n=g-o-j;if(r&255){if(r&2){k=Math.max(p,l[o]);q=c-k;if(q>0){this._mkDiv(k,n,q,j)}}if(r&1){f=Math.min(c,m[o]);q=f-p;if(q>0){this._mkDiv(p,n,q,j)}}}else{this._mkDiv(p,n,c-p,j)}n=g+o+(e>>16);if(r&65280){if(r&256){k=Math.max(p,m[o]);q=c-k;if(q>0){this._mkDiv(k,n,q,j)}}if(r&512){f=Math.min(c,l[o]);q=f-p;if(q>0){this._mkDiv(p,n,q,j)}}}else{this._mkDiv(p,n,c-p,j)}}else{if(r&255){if(r&2){k=Math.max(p,l[o])}else{k=p}if(r&1){f=Math.min(c,m[o])}else{f=c}n=g-o-j;q=f-k;if(q>0){this._mkDiv(k,n,q,j)}}if(r&65280){if(r&256){k=Math.max(p,m[o])}else{k=p}if(r&512){f=Math.min(c,l[o])}else{f=c}n=g+o+(e>>16);q=f-k;if(q>0){this._mkDiv(k,n,q,j)}}}};this.setStroke(1);this.setFont("verdana,geneva,helvetica,sans-serif","12px",Font.PLAIN);this.color="#000000";this.htm="";this.wnd=b||window;if(!jg_ok){_chkDHTM(this.wnd)}if(jg_ok){if(a){if(typeof(a)=="string"){this.cont=document.all?(this.wnd.document.all[a]||null):document.getElementById?(this.wnd.document.getElementById(a)||null):null}else{if(a==window.document){this.cont=document.getElementsByTagName("body")[0]}else{this.cont=a}}this.cnv=this.wnd.document.createElement("div");this.cnv.style.fontSize=0;this.cont.appendChild(this.cnv);this.paint=jg_dom?_pntCnvDom:_pntCnvIe}else{this.paint=_pntDoc}}else{this.paint=_pntN}this.setPrintable(false)}function _mkLinVirt(n,e,l,c,k){var r=Math.abs(c-e),q=Math.abs(k-l),m=e,j=l,a=(e>c)?-1:1,o=(l>k)?-1:1,d,f=0;if(r>=q){var b=q<<1,h=b-(r<<1);d=b-r;while(r>0){--r;if(d>0){n[f++]=m;j+=o;d+=h}else{d+=b}m+=a}}else{var b=r<<1,h=b-(q<<1);d=b-q;while(q>0){--q;j+=o;n[f++]=m;if(d>0){m+=a;d+=h}else{d+=b}}}for(var g=n.length,f=g-f;f;){n[g-(f--)]=m}}function _CompInt(a,b){return(a-b)};